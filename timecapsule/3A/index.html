<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="light dark" />
  <title>Resume | Andy Yun</title>

  <style>
    /* =========================
       2025-26 Minimal Print-first Resume
       - Web: nice UI + chips
       - Print: hard 1-page sheet only
       ========================= */

    :root{
      /* Paper (mm) */
      --w-a4: 210mm;   --h-a4: 297mm;
      --w-letter: 215.9mm; --h-letter: 279.4mm;

      /* Active paper */
      --pageW: var(--w-letter);
      --pageH: var(--h-letter);

      /* Internal padding (tuned for 1-page) */
      --padX: 10.5mm;
      --padY: 9.5mm;

      /* Typography (screen) */
      --font-en: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --font-ko: ui-sans-serif, system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", Segoe UI, Roboto, Helvetica, Arial;
      --text: #111214;
      --muted: #4b5563;
      --hair: rgba(17,18,20,.12);
      --chipBg: rgba(17,18,20,.05);

      /* Sheet look */
      --sheetRadius: 14px;
      --sheetShadow: 0 20px 60px rgba(0,0,0,.22);

      /* Print scale (computed) */
      --printScale: 1;

      /* Layout */
      --colGap: 10mm;
      --leftCol: 63%;
      --rightCol: 37%;

      /* EN vs KO fine-tune */
      --bodySize: 10.2px;
      --bodyLH: 1.22;
      --h2Size: 11.4px;
      --h2LH: 1.1;

      /* “B-structure”: left=Experience heavy, right=Skills/Ed/Service */
      --layout: classic; /* classic | ats */
    }

    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: var(--font-en);
      color: var(--text);
      background: radial-gradient(1200px 600px at 15% 5%, rgba(255,255,255,.10), rgba(255,255,255,0)),
                  radial-gradient(800px 500px at 80% 20%, rgba(255,255,255,.07), rgba(255,255,255,0)),
                  #0b0f1a;
    }

    /* ===== App Shell ===== */
    .app {
      min-height: 100%;
      display: grid;
      grid-template-rows: auto 1fr;
    }

    .topbar {
      position: sticky;
      top: 0;
      z-index: 20;
      padding: 14px 14px 10px;
      backdrop-filter: blur(14px);
      background: rgba(10,12,18,.55);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }

    .topbar-inner{
      max-width: 1120px;
      margin: 0 auto;
      display: flex;
      gap: 12px;
      align-items: center;
      justify-content: space-between;
    }

    .brand {
      display: flex;
      gap: 10px;
      align-items: center;
      color: rgba(255,255,255,.92);
    }
    .dot {
      width: 10px; height: 10px; border-radius: 999px;
      background: #3b82f6;
      box-shadow: 0 0 0 4px rgba(59,130,246,.18);
      flex: 0 0 auto;
    }
    .brand-title{
      font-weight: 650;
      letter-spacing: -.01em;
      line-height: 1.05;
    }
    .brand-sub{
      font-size: 12px;
      color: rgba(255,255,255,.68);
      margin-top: 2px;
      letter-spacing: -.01em;
    }

    .controls {
      display: flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .pill {
      display: inline-flex;
      gap: 8px;
      align-items: center;
      padding: 9px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.92);
      font-size: 12px;
      user-select: none;
    }
    .pill label { opacity: .72; }
    .pill select, .pill button, .pill input[type="checkbox"]{
      font: inherit;
      color: inherit;
    }
    .pill select{
      border: 0;
      background: transparent;
      outline: none;
      cursor: pointer;
      padding-right: 2px;
    }
    .pill button{
      border: 0;
      background: transparent;
      cursor: pointer;
      padding: 0;
      font-weight: 650;
      letter-spacing: -.01em;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(59,130,246,.45);
      background: rgba(59,130,246,.18);
      color: rgba(255,255,255,.95);
      cursor: pointer;
      font-size: 12px;
      font-weight: 650;
    }
    .btn:active { transform: translateY(1px); }

    .main {
      padding: 18px 14px 34px;
    }

    .stage {
      max-width: 1120px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 340px;
      gap: 16px;
      align-items: start;
    }

    @media (max-width: 1040px){
      .stage { grid-template-columns: 1fr; }
    }

    /* ===== Sheet ===== */
    .sheet-wrap{
      display: grid;
      place-items: start center;
    }

    .sheet {
      width: var(--pageW);
      height: var(--pageH);
      background: #fff;
      border-radius: var(--sheetRadius);
      box-shadow: var(--sheetShadow);
      overflow: hidden; /* critical for iOS blank extra page reduction */
      position: relative;
    }

    .sheet-inner{
      position: absolute;
      inset: 0;
      padding: var(--padY) var(--padX);
      box-sizing: border-box;
    }

    /* Print scaling wrapper: only applied during printing mode */
    .print-scale {
      transform-origin: top left;
      transform: scale(var(--printScale));
      width: calc(100% / var(--printScale));
    }

    /* ===== Resume Typography ===== */
    .resume{
      font-size: var(--bodySize);
      line-height: var(--bodyLH);
      letter-spacing: -0.01em;
    }

    .header{
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 10px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--hair);
      margin-bottom: 10px;
    }

    .name{
      font-size: 20px;
      font-weight: 800;
      letter-spacing: -0.02em;
      line-height: 1.05;
    }
    .headline{
      margin-top: 4px;
      font-size: 12px;
      font-weight: 650;
      color: var(--muted);
      letter-spacing: -0.01em;
    }
    .summary{
      margin-top: 6px;
      color: var(--text);
      font-size: 10.6px;
      line-height: 1.25;
    }

    .contact{
      text-align: right;
      font-size: 10px;
      color: var(--muted);
      line-height: 1.35;
      white-space: nowrap;
    }
    .contact a { color: inherit; text-decoration: none; border-bottom: 1px dotted rgba(0,0,0,.25); }

    .grid{
      display: grid;
      grid-template-columns: var(--leftCol) var(--rightCol);
      gap: var(--colGap);
      margin-top: 10px;
    }

    /* ATS mode stacks columns */
    body[data-layout="ats"] .grid{
      grid-template-columns: 1fr;
      gap: 10px;
    }

    h2{
      margin: 0 0 6px 0;
      font-size: var(--h2Size);
      line-height: var(--h2LH);
      letter-spacing: .02em;
      text-transform: uppercase;
      color: #0f172a;
    }

    .sec{ margin-bottom: 10px; }
    .sec:last-child{ margin-bottom: 0; }

    .item{
      padding: 7px 0;
      border-top: 1px solid rgba(17,18,20,.08);
    }
    .item:first-child{ border-top: 0; padding-top: 0; }

    .row{
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 8px;
      align-items: baseline;
    }
    .org{ font-weight: 800; }
    .role{ font-weight: 650; color: #111827; margin-top: 2px; }
    .meta{ color: var(--muted); font-size: 10px; }

    ul{
      margin: 6px 0 0 0;
      padding-left: 16px;
    }
    li{ margin: 2px 0; }

    .chips{
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }
    .chip{
      font-size: 9.6px;
      line-height: 1;
      padding: 4px 7px;
      border-radius: 999px;
      border: 1px solid rgba(17,18,20,.10);
      background: var(--chipBg);
      color: rgba(17,18,20,.85);
      white-space: nowrap;
    }

    .kv{
      display: grid;
      gap: 6px;
    }
    .kv .k{
      font-weight: 750;
      color: #0f172a;
      font-size: 10.3px;
    }
    .kv .v{
      color: var(--muted);
      font-size: 10.1px;
      line-height: 1.25;
    }
    .kv .line{
      padding-top: 6px;
      border-top: 1px solid rgba(17,18,20,.08);
    }

    .foot{
      position: absolute;
      left: var(--padX);
      right: var(--padX);
      bottom: 6mm;
      display: flex;
      justify-content: space-between;
      font-size: 9.4px;
      color: rgba(17,18,20,.45);
    }

    /* ===== Side Panel (Web only) ===== */
    .panel{
      position: sticky;
      top: 86px;
      align-self: start;
      padding: 14px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.90);
      box-shadow: 0 10px 30px rgba(0,0,0,.22);
    }
    .panel h3{
      margin: 0 0 8px 0;
      font-size: 13px;
      letter-spacing: -.01em;
    }
    .panel p{
      margin: 0 0 10px 0;
      font-size: 12px;
      line-height: 1.35;
      color: rgba(255,255,255,.78);
    }
    .panel .hint{
      border-top: 1px solid rgba(255,255,255,.12);
      padding-top: 10px;
      margin-top: 10px;
      font-size: 12px;
      line-height: 1.35;
      color: rgba(255,255,255,.80);
    }
    .panel code{
      background: rgba(255,255,255,.10);
      padding: 2px 6px;
      border-radius: 8px;
      font-size: 11px;
    }

    /* ===== Language styling ===== */
    body[data-lang="en"] { font-family: var(--font-en); }
    body[data-lang="ko"] { font-family: var(--font-ko); }

    /* Korean heading style (less uppercase, more Korean-friendly) */
    body[data-lang="ko"] h2{
      text-transform: none;
      letter-spacing: -0.01em;
      font-weight: 900;
    }

    /* Slightly denser KR to fit 1 page */
    body[data-lang="ko"]{
      --bodySize: 9.9px;
      --bodyLH: 1.20;
      --h2Size: 11.2px;
    }

    /* ===== PRINT RULES (hard 1-page) ===== */
    @media print{
      /* Hide web UI */
      .topbar, .panel { display: none !important; }
      body { background: #fff !important; }

      /* Safari/iOS can ignore some @page settings; keep margin 0 anyway */
      @page { margin: 0; } /* Safari margin bugs exist; user must set None/Minimum in dialog  [oai_citation:1‡GitHub](https://github.com/mdn/browser-compat-data/issues/23178?utm_source=chatgpt.com) */

      html, body{
        width: var(--pageW) !important;
        height: var(--pageH) !important;
        margin: 0 !important;
        padding: 0 !important;
        overflow: hidden !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }

      .main{ padding: 0 !important; }
      .stage{ max-width: none !important; grid-template-columns: 1fr !important; gap: 0 !important; }

      .sheet-wrap{ place-items: start !important; }
      .sheet{
        width: var(--pageW) !important;
        height: var(--pageH) !important;
        border-radius: 0 !important;
        box-shadow: none !important;
        overflow: hidden !important; /* important for iOS extra blank page reduction */
        position: fixed !important;  /* keep exactly one sheet */
        left: 0 !important;
        top: 0 !important;
      }

      /* In print, chips are hidden to save space + reduce page overflow */
      .chips{ display: none !important; }

      /* prevent any accidental page breaks */
      *{
        break-inside: avoid;
        page-break-inside: avoid;
      }
    }
  </style>
</head>

<body data-lang="en" data-paper="LETTER" data-fit="on" data-layout="classic">
  <div class="app" id="app">
    <!-- ===== Topbar ===== -->
    <div class="topbar">
      <div class="topbar-inner">
        <div class="brand">
          <div class="dot"></div>
          <div>
            <div class="brand-title" id="brandTitle">Resume</div>
            <div class="brand-sub" id="brandSub">North America default (Letter) · EN/KR · Fit-to-1-page</div>
          </div>
        </div>

        <div class="controls">
          <div class="pill">
            <label id="lblLang">Language</label>
            <select id="langSel">
              <option value="en">EN</option>
              <option value="ko">KO</option>
            </select>
          </div>

          <div class="pill">
            <label id="lblPaper">Paper</label>
            <select id="paperSel">
              <option value="LETTER">US Letter</option>
              <option value="A4">A4</option>
            </select>
          </div>

          <div class="pill">
            <label id="lblLayout">Layout</label>
            <select id="layoutSel">
              <option value="classic">Classic (2-col)</option>
              <option value="ats">ATS (1-col)</option>
            </select>
          </div>

          <div class="pill">
            <label id="lblFit">Fit to 1 page</label>
            <select id="fitSel">
              <option value="on">ON</option>
              <option value="off">OFF</option>
            </select>
          </div>

          <button class="btn" id="printBtn" type="button">Print / Save PDF</button>
        </div>
      </div>
    </div>

    <!-- ===== Main ===== -->
    <div class="main">
      <div class="stage">
        <!-- Sheet -->
        <div class="sheet-wrap">
          <div class="sheet" id="sheet">
            <div class="sheet-inner">
              <!-- print-scale wrapper: JS computes --printScale -->
              <div class="print-scale" id="printScale">
                <div class="resume" id="resumeRoot"></div>
              </div>
            </div>

            <div class="foot" aria-hidden="true">
              <div id="footLeft">Last updated: 2025-12-14</div>
              <div id="footRight">@hongjunyun</div>
            </div>
          </div>
        </div>

        <!-- Web-only help panel -->
        <aside class="panel" id="helpPanel">
          <h3 id="helpTitle">Print tips (iPad / Safari)</h3>
          <p id="helpBody">
            1) Set <code>Paper</code> to match the PDF target (Letter for NA, A4 for KR).<br/>
            2) Keep <code>Fit to 1 page</code> ON.<br/>
            3) In print dialog, set margins to <code>None</code> or <code>Minimum</code> if available.
          </p>
          <div class="hint" id="helpHint">
            If you apply via ATS-heavy portals, switch <code>Layout</code> → <code>ATS (1-col)</code>.
            (Some ATS dislike multi-column PDFs.)  [oai_citation:2‡The Interview Guys](https://blog.theinterviewguys.com/free-ats-resume-template-2025/?utm_source=chatgpt.com)
          </div>
        </aside>
      </div>
    </div>
  </div>

  <script>
    /* =========================
       Content: EN vs KO are NOT direct translations.
       Two separate versions (tone + structure) for 2025-26 norms.
       ========================= */

    const DATA = {
      en: {
        brandTitle: "Resume",
        brandSub: "North America default (Letter) · EN/KR · Fit-to-1-page",
        helpTitle: "Print tips (iPad / Safari)",
        helpBody: [
          "1) Set Paper to match the target PDF (Letter for NA, A4 if needed).",
          "2) Keep Fit to 1 page ON.",
          "3) In the print dialog, set margins to None/Minimum when possible."
        ],
        helpHint: "If you're applying through ATS-heavy portals, try Layout → ATS (1-col). Some ATS struggle with multi-column resumes.",
        headings: {
          experience: "Experience",
          skills: "Skills",
          projects: "Projects",
          education: "Education",
          service: "Service",
          volunteering: "Volunteering"
        },
        profile: {
          name: "Andy Yun",
          headline: "Backend / AI Tooling Engineer (Co-op / Intern)",
          summary:
            "Backend-focused ECE student building internal AI tooling and production backends. Recently led a Windows + FastAPI internal LLM assistant with governance (RBAC/audit/versioned distribution), a prompt marketplace, and leakage-risk monitoring for a ~50-person org."
        },
        contact: {
          email1: "andy.yun@uwaterloo.ca",
          email2: "a2yun@uwaterloo.ca",
          phone: "+1 (226) 507-9755",
          siteLabel: "site",
          site: "git.io/JXa1p"  // placeholder shown in your screenshot
        },
        experience: [
          {
            org: "Korea Fund Ratings (KFR)",
            role: "AI Researcher / Internal Tooling (Intern)",
            date: "Jan 2024 – Apr 2024",
            bullets: [
              "Led end-to-end build of an internal LLM assistant for a ~50-person org: Windows desktop client (PySide6) + FastAPI service, always-on in a server room.",
              "Implemented DB-backed governance: login, role-based admin controls, versioned client distribution, and audit logging (usage/prompts) with metadata capture (IP/MAC/app version).",
              "Shipped a prompt marketplace (~10 templates) with attribution + moderation; added A/B/C keyword thresholds that trigger admin alerts when leakage-risk indicators exceed limits.",
              "Integrated internal sources (news, Excel, fund documents) via SQL Server connectors (SQLAlchemy/pyodbc); added optional local LLM summarization to reduce token overflow and improve UI responsiveness."
            ],
            tech: ["Python","FastAPI","PySide6","LangChain","OpenAI API","SQLAlchemy","SQL Server","PyInstaller"]
          },
          {
            org: "Escape Platforms",
            role: "Software Backend Developer (Co-op)",
            date: "Jun 2023 – Aug 2023",
            bullets: [
              "Developed ~10 REST API endpoints (comments/chat/internal) and implemented serverless data flows on AWS.",
              "Built AppSync + Lambda + DynamoDB pipelines with Node.js/TypeScript; used GraphQL to streamline operations; shipped unit tests to improve reliability."
            ],
            tech: ["TypeScript","Node.js","GraphQL","AWS AppSync","Lambda","DynamoDB","Jest"]
          },
          {
            org: "Huawei Technologies Canada",
            role: "6G R&D Engineer (Co-op)",
            date: "Sep 2022 – Dec 2022",
            bullets: [
              "Developed internal APIs (C++14/Boost) callable from Python; interfaced with a CARLA server for simulation workflows.",
              "Built a PyQt GUI to monitor/control Unreal Engine simulation; implemented ray-tracing logic in a CARLA context."
            ],
            tech: ["C++14","Boost","Python","PyQt","CARLA","Unreal Engine"]
          },
          {
            org: "Stackpole International",
            role: "Software Developer (Co-op)",
            date: "Jan 2022 – Apr 2022",
            bullets: [
              "Reduced PLC↔Host communication overhead by ~30% via a caching mechanism.",
              "Built GUI + ML + telemetry tooling using Python (Qt), OpenCV, and PyTorch; supported PLC and GPU servers.",
              "Constructed a lightweight ANN model for Jetson Nano paired with PLC to reduce server load and improve response time."
            ],
            tech: ["Python","Qt","OpenCV","PyTorch","PLC","Jetson"]
          }
        ],
        projects: [
          {
            name: "Logic.Gate Tutoring Platform",
            meta: "2021 – Present",
            desc: [
              "STEM education platform; prototyping tutoring workflows and evaluation-first improvements with a reliability/UX focus."
            ],
            tech: ["RAG","Agents","Backend"]
          },
          {
            name: "Find My Pill Platform",
            meta: "Oct 2022 – Dec 2023",
            desc: [
              "Built REST API and data model; improved response time by ~23.7% via 3NF normalization.",
              "Designed a microservice-friendly architecture and a custom recommendation approach for user text input."
            ],
            tech: ["Python","Flask","SQL","REST"]
          }
        ],
        right: {
          skills: [
            { k: "Backend", v: "Python (FastAPI), Node.js/TypeScript, SQL, GraphQL, REST" },
            { k: "Cloud / Data", v: "AWS (Lambda/AppSync/DynamoDB), SQLAlchemy/pyodbc, UNIX/Linux" },
            { k: "AI Tooling", v: "LangChain, OpenAI API, local summarization option, governance/audit" },
            { k: "Systems", v: "C/C++ (Boost), Qt (PySide6/PyQt), packaging & internal distribution" }
          ],
          education: [
            { k: "University of Waterloo", v: "BASc Candidate, Computer Engineering (ECE) · Sep 2021 – Jun 2026" },
            { k: "Scholarship", v: "University of Waterloo President’s Scholarship (2021)" }
          ],
          service: [
            { k: "Republic of Korea Army", v: "Tactical C4I Maintenance & Operation · Sep 2024 – Mar 2026" }
          ],
          volunteering: [
            { k: "FIRST Robotics Team 7722", v: "Programming & Computing Mentor · Jan 2023 – Aug 2023" },
            { k: "", v: "Mentored 9 high school students in embedded programming, sensor fusion, and robot motion planning; improved autonomous movement reliability (reported 93% success)." }
          ]
        }
      },

      ko: {
        brandTitle: "이력서",
        brandSub: "한국 기본(A4 권장) · 한/영 분리 · 자동 1페이지 맞춤",
        helpTitle: "인쇄/저장 팁 (iPad / Safari)",
        helpBody: [
          "1) 한국 제출용이면 Paper를 A4로 맞추세요.",
          "2) 1페이지 맞춤은 ON 유지.",
          "3) 인쇄 옵션에서 ‘여백 없음/최소 여백’을 선택(가능한 경우)."
        ],
        helpHint: "채용 시스템(ATS) 제출이 목적이면 Layout을 ATS(1열)로 바꾸는 걸 추천합니다.",
        headings: {
          experience: "경력",
          skills: "핵심역량",
          projects: "프로젝트",
          education: "학력",
          service: "병역",
          volunteering: "봉사/대외활동"
        },
        profile: {
          name: "윤홍준 (Andy Yun)",
          headline: "백엔드 · 사내 AI 업무도구/플랫폼 엔지니어",
          summary:
            "백엔드 중심으로 시스템을 설계/구현하며, 사내 사용자(비개발자 포함)가 실제로 쓰는 업무도구를 ‘운영 가능한 형태’로 배포/관리하는 데 강점이 있습니다. (권한/감사로그/버전관리/배포/민감정보 유출 위험 알림)"
        },
        contact: {
          email1: "andy.yun@uwaterloo.ca",
          email2: "a2yun@uwaterloo.ca",
          phone: "+1 (226) 507-9755",
          siteLabel: "웹",
          site: "git.io/JXa1p"
        },
        experience: [
          {
            org: "한국펀드평가 (KFR)",
            role: "AI 도입 연구원 / 사내 툴 개발 (인턴)",
            date: "2024.01 – 2024.04",
            bullets: [
              "약 50명 규모 조직 대상 사내 LLM 업무보조 도구(베타) 주도 개발: Windows 데스크톱(PySide6) + FastAPI 서버, 서버실 상시 구동 환경.",
              "거버넌스 구축: DB 기반 로그인/권한(RBAC), 버전 관리·배포, 사용/프롬프트 감사로그(사용자·IP/MAC·앱 버전 등)로 컴플라이언스/디버깅 지원.",
              "프롬프트 마켓(약 10개 템플릿) 오픈 + 작성자 표시/관리자 삭제 + 민감정보 유출 위험 알림(A/B/C 키워드 임계치) 연동.",
              "뉴스/엑셀/펀드 설명서 등 내부자료를 DB 연동(SQLAlchemy/pyodbc)으로 조회·요약(로컬 LLM 옵션)하여 토큰 초과/멈춤 이슈 완화."
            ],
            tech: ["Python","FastAPI","PySide6","LangChain","OpenAI API","SQLAlchemy","SQL Server","PyInstaller"]
          },
          {
            org: "Escape Platforms",
            role: "백엔드 개발 (Co-op)",
            date: "2023.06 – 2023.08",
            bullets: [
              "댓글/채팅/내부 기능 등 REST API(약 10개) 및 AWS 서버리스 데이터 플로우 구현.",
              "Node.js/TypeScript로 AppSync + Lambda + DynamoDB 파이프라인 구축, GraphQL 기반 운영 단순화 및 테스트(Jest)로 신뢰성 강화."
            ],
            tech: ["TypeScript","Node.js","GraphQL","AWS AppSync","Lambda","DynamoDB","Jest"]
          },
          {
            org: "Huawei Technologies Canada",
            role: "6G R&D 엔지니어 (Co-op)",
            date: "2022.09 – 2022.12",
            bullets: [
              "Python에서 호출 가능한 내부 API(C++14/Boost) 개발 및 CARLA 서버 연동으로 시뮬레이션 워크플로우 구성.",
              "Unreal Engine 시뮬레이션 모니터링/제어 PyQt GUI 제작, CARLA 환경 레이 트레이싱 로직 구현."
            ],
            tech: ["C++14","Boost","Python","PyQt","CARLA","Unreal Engine"]
          },
          {
            org: "Stackpole International",
            role: "소프트웨어 개발 (Co-op)",
            date: "2022.01 – 2022.04",
            bullets: [
              "캐싱 메커니즘으로 PLC↔Host 통신 오버헤드 약 30% 절감.",
              "Python(Qt), OpenCV, PyTorch 기반 GUI/ML/텔레메트리 툴 개발, PLC 및 GPU 서버 운영 지원.",
              "Jetson Nano + PLC 환경에서 동작하는 경량 ANN 모델 구축으로 서버 부하 및 응답시간 개선."
            ],
            tech: ["Python","Qt","OpenCV","PyTorch","PLC","Jetson"]
          }
        ],
        projects: [
          {
            name: "Logic.Gate 튜터링 플랫폼",
            meta: "2021 – 현재",
            desc: [
              "STEM 교육 플랫폼: 튜터링 워크플로우를 프로토타이핑하고 평가 중심으로 개선(신뢰성/UX)."
            ],
            tech: ["RAG","에이전트","백엔드"]
          },
          {
            name: "Find My Pill 플랫폼",
            meta: "2022.10 – 2023.12",
            desc: [
              "REST API + 데이터 모델 구축, 3NF 정규화로 응답시간 약 23.7% 개선.",
              "마이크로서비스 친화 아키텍처 및 텍스트 입력 기반 추천 로직 설계."
            ],
            tech: ["Python","Flask","SQL","REST"]
          }
        ],
        right: {
          skills: [
            { k: "백엔드", v: "Python(FastAPI), Node.js/TypeScript, SQL, GraphQL, REST" },
            { k: "클라우드/데이터", v: "AWS(Lambda/AppSync/DynamoDB), SQLAlchemy/pyodbc, UNIX/Linux" },
            { k: "사내 AI 도구", v: "LangChain, OpenAI API, 로컬 요약 옵션, 거버넌스(권한/감사로그)" },
            { k: "시스템/배포", v: "C/C++(Boost), Qt(Pyside6/PyQt), PyInstaller 기반 사내 배포" }
          ],
          education: [
            { k: "워털루 대학교", v: "공학사 과정(Computer Engineering, ECE) · 2021.09 – 2026.06" },
            { k: "장학", v: "University of Waterloo President’s Scholarship (2021)" }
          ],
          service: [
            { k: "대한민국 육군", v: "전술 C4I 정비/운용 · 2024.09 – 2026.03" }
          ],
          volunteering: [
            { k: "FIRST 로보틱스 팀 7722", v: "프로그래밍/컴퓨팅 멘토 · 2023.01 – 2023.08" },
            { k: "", v: "고등학생 9명 대상 임베디드/센서퓨전/모션플래닝 멘토링, 자율주행 신뢰성 향상(보고 성공률 93%)." }
          ]
        }
      }
    };

    const $ = (id) => document.getElementById(id);

    const state = {
      lang: "en",
      paper: "LETTER",
      fit: "on",
      layout: "classic"
    };

    function setPaperVars(paper){
      // Use CSS variables for physical sheet size; user must also choose matching paper in print dialog.
      const root = document.documentElement.style;
      if(paper === "A4"){
        root.setProperty("--pageW", "var(--w-a4)");
        root.setProperty("--pageH", "var(--h-a4)");
      } else {
        root.setProperty("--pageW", "var(--w-letter)");
        root.setProperty("--pageH", "var(--h-letter)");
      }
    }

    function escapeHtml(s){
      return (s ?? "").replace(/[&<>"']/g, (c)=>({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"
      }[c]));
    }

    function render(){
      const d = DATA[state.lang];

      // body attributes for CSS
      document.body.dataset.lang = state.lang;
      document.body.dataset.paper = state.paper;
      document.body.dataset.fit = state.fit;
      document.body.dataset.layout = state.layout;

      // Paper vars
      setPaperVars(state.paper);

      // Top bar text
      $("brandTitle").textContent = d.brandTitle;
      $("brandSub").textContent = d.brandSub;

      // Help panel
      $("helpTitle").textContent = d.helpTitle;
      $("helpBody").innerHTML = d.helpBody.map(line => escapeHtml(line)).join("<br/>");
      $("helpHint").textContent = d.helpHint;

      // Labels
      $("lblLang").textContent = state.lang === "ko" ? "언어" : "Language";
      $("lblPaper").textContent = state.lang === "ko" ? "용지" : "Paper";
      $("lblLayout").textContent = state.lang === "ko" ? "레이아웃" : "Layout";
      $("lblFit").textContent = state.lang === "ko" ? "1페이지 맞춤" : "Fit to 1 page";
      $("printBtn").textContent = state.lang === "ko" ? "인쇄 / PDF 저장" : "Print / Save PDF";

      // Footer
      $("footLeft").textContent = state.lang === "ko" ? "최종 업데이트: 2025-12-14" : "Last updated: 2025-12-14";

      // Render resume HTML
      $("resumeRoot").innerHTML = buildResume(d);
    }

    function buildResume(d){
      const h = d.headings;
      const p = d.profile;
      const c = d.contact;

      const experienceHTML = d.experience.map(job => `
        <div class="item">
          <div class="row">
            <div>
              <div class="org">${escapeHtml(job.org)}</div>
              <div class="role">${escapeHtml(job.role)}</div>
            </div>
            <div class="meta">${escapeHtml(job.date)}</div>
          </div>
          <ul>
            ${job.bullets.map(b => `<li>${escapeHtml(b)}</li>`).join("")}
          </ul>
          <div class="chips">
            ${job.tech.map(t => `<span class="chip">${escapeHtml(t)}</span>`).join("")}
          </div>
        </div>
      `).join("");

      const projectsHTML = d.projects.map(pr => `
        <div class="item">
          <div class="row">
            <div>
              <div class="org">${escapeHtml(pr.name)}</div>
              <div class="role">${escapeHtml(pr.desc?.[0] ?? "")}</div>
            </div>
            <div class="meta">${escapeHtml(pr.meta)}</div>
          </div>
          ${pr.desc && pr.desc.length > 1 ? `
            <ul>${pr.desc.slice(1).map(x => `<li>${escapeHtml(x)}</li>`).join("")}</ul>
          ` : ``}
          <div class="chips">
            ${pr.tech.map(t => `<span class="chip">${escapeHtml(t)}</span>`).join("")}
          </div>
        </div>
      `).join("");

      const skillsHTML = d.right.skills.map(x => `
        <div>
          <div class="k">${escapeHtml(x.k)}</div>
          <div class="v">${escapeHtml(x.v)}</div>
        </div>
      `).join("");

      const eduHTML = d.right.education.map((x,i) => `
        <div class="${i===0 ? "" : "line"}">
          <div class="k">${escapeHtml(x.k)}</div>
          <div class="v">${escapeHtml(x.v)}</div>
        </div>
      `).join("");

      const svcHTML = d.right.service.map((x,i) => `
        <div class="${i===0 ? "" : "line"}">
          <div class="k">${escapeHtml(x.k)}</div>
          <div class="v">${escapeHtml(x.v)}</div>
        </div>
      `).join("");

      const volHTML = d.right.volunteering.map((x,i) => `
        <div class="${i===0 ? "" : "line"}">
          ${x.k ? `<div class="k">${escapeHtml(x.k)}</div>` : ``}
          <div class="v">${escapeHtml(x.v)}</div>
        </div>
      `).join("");

      // Contact formatting differs per language (KO tends to left-align name; keep header grid anyway)
      const contactLines = `
        <div>${escapeHtml(c.siteLabel)}: <a href="https://${escapeHtml(c.site)}" target="_blank" rel="noopener">${escapeHtml(c.site)}</a></div>
        <div>email: <a href="mailto:${escapeHtml(c.email1)}">${escapeHtml(c.email1)}</a></div>
        <div>${escapeHtml(c.email2)}</div>
        <div>${state.lang === "ko" ? "전화" : "phone"}: ${escapeHtml(c.phone)}</div>
      `;

      return `
        <div class="header">
          <div>
            <div class="name">${escapeHtml(p.name)}</div>
            <div class="headline">${escapeHtml(p.headline)}</div>
            <div class="summary">${escapeHtml(p.summary)}</div>
          </div>
          <div class="contact">${contactLines}</div>
        </div>

        <div class="grid">
          <div>
            <div class="sec">
              <h2>${escapeHtml(h.experience)}</h2>
              ${experienceHTML}
            </div>

            <div class="sec">
              <h2>${escapeHtml(h.projects)}</h2>
              ${projectsHTML}
            </div>
          </div>

          <div>
            <div class="sec">
              <h2>${escapeHtml(h.skills)}</h2>
              <div class="kv">${skillsHTML}</div>
            </div>

            <div class="sec">
              <h2>${escapeHtml(h.education)}</h2>
              <div class="kv">${eduHTML}</div>
            </div>

            <div class="sec">
              <h2>${escapeHtml(h.service)}</h2>
              <div class="kv">${svcHTML}</div>
            </div>

            <div class="sec">
              <h2>${escapeHtml(h.volunteering)}</h2>
              <div class="kv">${volHTML}</div>
            </div>
          </div>
        </div>
      `;
    }

    function computeFitScale(){
      // Only apply if fit is ON
      if(state.fit !== "on"){
        document.documentElement.style.setProperty("--printScale", "1");
        return 1;
      }

      // Measure content height vs available height inside sheet
      const sheet = $("sheet");
      const inner = sheet.querySelector(".sheet-inner");
      const content = $("resumeRoot");

      // Temporarily reset scale for accurate measurement
      document.documentElement.style.setProperty("--printScale", "1");

      // Force reflow
      void content.offsetHeight;

      const innerRect = inner.getBoundingClientRect();
      const contentRect = content.getBoundingClientRect();

      // Available height: inner height minus a tiny safety (footer/rounding)
      const availableH = innerRect.height - 2; // px
      const contentH = contentRect.height;

      if(contentH <= 0) return 1;

      // Conservative safety factor to avoid iOS/Safari phantom overflow → blank page
      const raw = availableH / contentH;
      const safety = 0.965; // tighter than before
      const scale = Math.min(1, raw * safety);

      document.documentElement.style.setProperty("--printScale", String(scale));
      return scale;
    }

    function beforePrint(){
      // Recompute scale right before printing
      computeFitScale();
    }

    function afterPrint(){
      // Reset scale (optional)
      if(state.fit !== "on"){
        document.documentElement.style.setProperty("--printScale", "1");
      }
    }

    // Safari/iOS: matchMedia is more reliable than onbeforeprint sometimes
    const mql = window.matchMedia("print");
    mql.addEventListener?.("change", (e)=>{
      if(e.matches) beforePrint();
      else afterPrint();
    });

    $("langSel").addEventListener("change", (e)=>{
      state.lang = e.target.value;
      // Suggest paper default by language (user can override)
      if(state.lang === "ko" && state.paper === "LETTER"){
        // keep as-is; don’t force
      }
      render();
      computeFitScale();
    });

    $("paperSel").addEventListener("change", (e)=>{
      state.paper = e.target.value;
      render();
      computeFitScale();
    });

    $("fitSel").addEventListener("change", (e)=>{
      state.fit = e.target.value;
      render();
      computeFitScale();
    });

    $("layoutSel").addEventListener("change", (e)=>{
      state.layout = e.target.value;
      render();
      computeFitScale();
    });

    $("printBtn").addEventListener("click", ()=>{
      // Ensure scale is computed in current mode BEFORE print dialog opens
      beforePrint();
      // Small timeout helps Safari apply computed scale
      setTimeout(()=>window.print(), 60);
    });

    // Init selects
    function init(){
      $("langSel").value = state.lang;
      $("paperSel").value = state.paper;
      $("fitSel").value = state.fit;
      $("layoutSel").value = state.layout;
      render();
      computeFitScale();
    }

    window.addEventListener("resize", ()=> computeFitScale());
    init();
  </script>
</body>
</html>